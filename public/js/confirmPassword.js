'use strict';

angular.module('capstone').directive('confirmPassword', function () {
  return {
    require: 'ngModel',
    link: function link(scope, elem, attrs, ctrl) {
      var otherInput = elem.inheritedData("$formController")[attrs.confirmPassword];

      ctrl.$parsers.push(function (value) {
        if (value === otherInput.$viewValue) {
          ctrl.$setValidity('repeat', true);
          return value;
        }
        ctrl.$setValidity('repeat', false);
      });

      otherInput.$parsers.push(function (value) {
        ctrl.$setValidity('repeat', value === ctrl.$viewValue);
        return value;
      });
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9jb25maXJtUGFzc3dvcmQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUV4QixTQUFTLENBQUMsaUJBQWlCLEVBQUUsWUFBWTtBQUN6QyxTQUFPO0FBQ0QsV0FBTyxFQUFFLFNBQVM7QUFDbEIsUUFBSSxFQUFFLGNBQVMsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3ZDLFVBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRTlFLFVBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVMsS0FBSyxFQUFFO0FBQ2hDLFlBQUksS0FBSyxLQUFLLFVBQVUsQ0FBQyxVQUFVLEVBQUU7QUFDbkMsY0FBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbEMsaUJBQU8sS0FBSyxDQUFDO1NBQ2Y7QUFDRCxZQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztPQUNwQyxDQUFDLENBQUM7O0FBRUgsZ0JBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVMsS0FBSyxFQUFFO0FBQ3RDLFlBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLEtBQUssS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDdkQsZUFBTyxLQUFLLENBQUM7T0FDZixDQUFDLENBQUM7S0FDTDtHQUNELENBQUM7Q0FDTixDQUFDLENBQUMiLCJmaWxlIjoic3JjL2pzL2NvbmZpcm1QYXNzd29yZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdjYXBzdG9uZScpXG5cblx0LmRpcmVjdGl2ZSgnY29uZmlybVBhc3N3b3JkJywgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG4gICAgICBcdFx0cmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgXHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycywgY3RybCkge1xuICAgICAgICBcdFx0dmFyIG90aGVySW5wdXQgPSBlbGVtLmluaGVyaXRlZERhdGEoXCIkZm9ybUNvbnRyb2xsZXJcIilbYXR0cnMuY29uZmlybVBhc3N3b3JkXTtcblxuICAgICAgICBcdFx0Y3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgXHRcdFx0aWYgKHZhbHVlID09PSBvdGhlcklucHV0LiR2aWV3VmFsdWUpIHtcbiAgICAgICAgICAgIFx0XHRcdGN0cmwuJHNldFZhbGlkaXR5KCdyZXBlYXQnLCB0cnVlKTtcbiAgICAgICAgICAgIFx0XHRcdHJldHVybiB2YWx1ZTtcbiAgICAgICAgICBcdFx0fVxuICAgICAgICAgIFx0XHRjdHJsLiRzZXRWYWxpZGl0eSgncmVwZWF0JywgZmFsc2UpO1xuICAgICAgICBcdFx0fSk7XG5cbiAgICAgICAgXHRcdG90aGVySW5wdXQuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgXHRcdGN0cmwuJHNldFZhbGlkaXR5KCdyZXBlYXQnLCB2YWx1ZSA9PT0gY3RybC4kdmlld1ZhbHVlKTtcblx0ICAgICAgICAgIFx0XHRyZXR1cm4gdmFsdWU7XG4gICAgICAgIFx0XHR9KTtcbiAgICAgXHRcdH1cbiAgICAgXHR9O1xuXHR9KTsiXX0=
